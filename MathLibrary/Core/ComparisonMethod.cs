namespace MathLibrary.Core;

/// <summary>
/// Определяет метод, используемый для сравнения чисел с плавающей запятой на приблизительное равенство.
/// </summary>
public enum ComparisonMethod
{
    /// <summary>
    /// Прямое сравнение (a == b). Самый быстрый, но не учитывает погрешности вычислений.
    /// </summary>
    Direct,

    /// <summary>
    /// Сравнение с использованием фиксированного малого значения (эпсилон).
    /// Подходит для чисел, близких к единице, но может давать сбои для очень больших или очень малых чисел.
    /// Формула: |a - b| < Epsilon (по умолчанию 1e-6f).
    /// </summary>
    FixedEpsilon,

    /// <summary>
    /// Сравнение с использованием относительной погрешности.
    /// Хорошо работает для широкого диапазона чисел, но может быть неточным для чисел, близких к нулю.
    /// Формула: |a - b| <= Epsilon * Max(|a|, |b|).
    /// </summary>
    RelativeEpsilon,

    /// <summary>
    /// Комбинированный метод, использующий абсолютную и относительную погрешности.
    /// Является наиболее надежным методом для большинства случаев.
    /// Формула: |a - b| <= Max(abs_tol, rel_tol * Max(|a|, |b|)).
    /// </summary>
    CombinedTolerance,

    /// <summary>
    /// Сравнение на основе "единиц в последнем разряде" (Units in the Last Place).
    /// Сравнивает целочисленные представления чисел с плавающей запятой. Очень точен для чисел одного знака.
    /// </summary>
    Ulp
}
